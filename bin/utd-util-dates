#!/usr/bin/env python

if __name__ == '__main__':

    import argparse

    parser = argparse.ArgumentParser(
                    description='UTD Util Dates',
                    formatter_class=argparse.ArgumentDefaultsHelpFormatter,
                )
    parser.add_argument(
            '--date-start', 
            type=str, 
            required=True,
        )
    parser.add_argument(
            '--date-end', 
            type=str, 
            required=True,
        )
    parser.add_argument(
            '--weekly', 
            required=True, 
            choices=[
                        'MWF',
                        'MW',
                        'TR'
                    ],
        )

    args = parser.parse_args()

    from dateutil.rrule import *
    from dateutil.parser import *
    from datetime import *

    D = {
            'MWF': (MO, WE, FR),
            'MW' : (MO, WE),
            'TR' : (TU, TH),
        }

    days = list(rrule(WEEKLY, wkst=MO, byweekday=D[args.weekly], dtstart=parse(args.date_start), until=parse(args.date_end)))

    for day in days:
            print day.strftime('%Y-%m-%d')

# vim:ts=4:sw=4:et
